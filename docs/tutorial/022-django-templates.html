<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Django templates
  </title>
  <link href="book.css" rel="stylesheet"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="" name="description"/>
  <meta content="HonKit 3.7.5" name="generator"/>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <link href="content/stylesheet.css" rel="stylesheet" type="text/css"/>
  <link href="content/page_styles.css" rel="stylesheet" type="text/css"/>
  <!-- Google tag (gtag.js) -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-BN9REN07NH">
  </script>
  <script>
   window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-BN9REN07NH");
  </script>
 </head>
 <body>
  <header class="book-header">
   <h1 class="page-title">
    Django templates
   </h1>
  </header>
  <nav class="book-nav" data-chapter="022-django-templates">
   <button aria-controls="nav-panel-022-django-templates" aria-expanded="false" aria-label="Toggle menu" class="nav-toggle" data-target="nav-panel-022-django-templates" type="button">
    <span aria-hidden="true" class="icon">
     ≡
    </span>
    <span class="label">
     Menu
    </span>
   </button>
   <div class="nav-links">
    <a class="nav-link home" href="../index.html">
     <span aria-hidden="true" class="icon">
      ⌂
     </span>
     <span class="label">
      Home
     </span>
    </a>
    <a class="nav-link contents" href="index.html">
     <span aria-hidden="true" class="icon">
      ≣
     </span>
     <span class="label">
      Contents
     </span>
    </a>
    <a class="nav-link previous" href="021-dynamic-data-in-templates.html">
     <span aria-hidden="true" class="icon">
      ←
     </span>
     <span class="label">
      Previous
     </span>
    </a>
    <a class="nav-link next" href="023-css-make-it-pretty.html">
     <span aria-hidden="true" class="icon">
      →
     </span>
     <span class="label">
      Next
     </span>
    </a>
   </div>
  </nav>
  <div aria-hidden="true" class="nav-panel" id="nav-panel-022-django-templates">
   <div class="nav-panel__group">
    <h3 class="nav-panel__title">
     Shortcuts
    </h3>
    <ul class="nav-panel__list">
     <li>
      <a class="nav-panel__link" href="../index.html">
       <span aria-hidden="true" class="icon">
        ⌂
       </span>
       Home
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="index.html">
       <span aria-hidden="true" class="icon">
        ≣
       </span>
       Contents
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="021-dynamic-data-in-templates.html">
       <span aria-hidden="true" class="icon">
        ←
       </span>
       Previous
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="023-css-make-it-pretty.html">
       <span aria-hidden="true" class="icon">
        →
       </span>
       Next
      </a>
     </li>
    </ul>
   </div>
   <div class="nav-panel__group">
    <h3 class="nav-panel__title">
     Chapters
    </h3>
    <ul class="nav-panel__list">
     <li>
      <a class="nav-panel__link" href="001-cover.html">
       Cover
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="003-introduction.html">
       Introduction
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="004-installation.html">
       Installation
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="006-how-the-internet-works.html">
       How the Internet works
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="007-introduction-to-command-line.html">
       Introduction to command line
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="008-python-installation.html">
       Python installation
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="009-code-editor.html">
       Code editor
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="010-introduction-to-python.html">
       Introduction to Python
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="011-what-is-django.html">
       What is Django?
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="012-django-installation.html">
       Django installation
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="013-your-first-django-project.html">
       Your first Django project!
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="014-django-models.html">
       Django models
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="015-django-admin.html">
       Django admin
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="016-deploy.html">
       Deploy!
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="017-django-urls.html">
       Django URLs
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="018-django-views-time-to-create.html">
       Django views – time to create!
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="019-introduction-to-html.html">
       Introduction to HTML
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="020-django-orm-querysets.html">
       Django ORM (Querysets)
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="021-dynamic-data-in-templates.html">
       Dynamic data in templates
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="022-django-templates.html">
       Django templates
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="023-css-make-it-pretty.html">
       CSS – make it pretty
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="024-template-extending.html">
       Template extending
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="025-extend-your-application.html">
       Extend your application
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="026-django-forms.html">
       Django Forms
      </a>
     </li>
     <li>
      <a class="nav-panel__link" href="027-what-s-next.html">
       What's next?
      </a>
     </li>
    </ul>
   </div>
  </div>
  <main>
   <div class="page">
    <h2 class="calibre1" id="django-templates">
     Django templates
    </h2>
    <p class="calibre6">
     Time to display some data! Django gives us some helpful built-in
     <strong class="calibre10">
      template tags
     </strong>
     for that.
    </p>
    <h2 class="calibre7" id="what-are-template-tags">
     What are template tags?
    </h2>
    <p class="calibre6">
     You see, in HTML, you can't really write Python code, because browsers
          don't understand it. They know only HTML. We know that HTML is rather
          static, while Python is much more dynamic.
    </p>
    <p class="calibre6">
     <strong class="calibre10">
      Django template tags
     </strong>
     allow us to transfer Python-like things into HTML, so you can build
          dynamic websites faster. Cool!
    </p>
    <h2 class="calibre7" id="display-post-list-template">
     Display post list template
    </h2>
    <p class="calibre6">
     In the previous chapter we gave our template a list of posts in the
     <code class="calibre11">
      posts
     </code>
     variable. Now we will display it in HTML.
    </p>
    <p class="calibre6">
     To print a variable in Django templates, we use double curly brackets
          with the variable's name inside, like this:
    </p>
    <p class="calibre6">
    </p>
    <p class="calibre6">
     blog/templates/blog/post_list.html
    </p>
    <p class="calibre6">
    </p>
    <pre class="calibre13"><code class="calibre11">{{ posts }}
        </code></pre>
    <p class="calibre6">
     Try this in your
     <code class="calibre11">
      blog/templates/blog/post_list.html
     </code>
     template. Open it up in the code editor, and replace the existing
     <code class="calibre11">
      &lt;article&gt;
     </code>
     elements with
     <code class="calibre11">
      {{ posts }}
     </code>
     . Save the file, and refresh the page to see the results:
    </p>
    <p class="calibre6">
     <img alt="Figure 13.1" class="calibre8" src="content/step11.png"/>
    </p>
    <p class="calibre6">
     As you can see, all we've got is this:
    </p>
    <p class="calibre6">
    </p>
    <p class="calibre6">
     blog/templates/blog/post_list.html
    </p>
    <p class="calibre6">
    </p>
    <pre class="calibre13"><code class="calibre11">&lt;QuerySet [&lt;Post: My second post&gt;, &lt;Post: My first post&gt;]&gt;
        </code></pre>
    <p class="calibre6">
     This means that Django understands it as a list of objects. Remember
          from
     <strong class="calibre10">
      Introduction to Python
     </strong>
     how we can display lists? Yes, with for loops! In a Django template
          you do them like this:
    </p>
    <p class="calibre6">
    </p>
    <p class="calibre6">
     blog/templates/blog/post_list.html
    </p>
    <p class="calibre6">
    </p>
    <pre class="calibre13"><code class="calibre11">{% for post in posts %}
            {{ post }}
        {% endfor %}
        </code></pre>
    <p class="calibre6">
     Try this in your template.
    </p>
    <p class="calibre6">
     <img alt="Figure 13.2" class="calibre8" src="content/step2.png"/>
    </p>
    <p class="calibre6">
     It works! But we want the posts to be displayed like the static posts
          we created earlier in the
     <strong class="calibre10">
      Introduction to HTML
     </strong>
     chapter. You can mix HTML and template tags. Our
     <code class="calibre11">
      body
     </code>
     will look like this:
    </p>
    <p class="calibre6">
    </p>
    <p class="calibre6">
     blog/templates/blog/post_list.html
    </p>
    <p class="calibre6">
    </p>
    <pre class="calibre13"><code class="calibre11"><span>&lt;<span>header</span>&gt;</span>
            <span>&lt;<span>h1</span>&gt;</span><span>&lt;<span>a</span> <span>href</span>=<span>"/"</span>&gt;</span>Django Girls Blog<span>&lt;/<span>a</span>&gt;</span><span>&lt;/<span>h1</span>&gt;</span>
        <span>&lt;/<span>header</span>&gt;</span>

        {% for post in posts %}
            <span>&lt;<span>article</span>&gt;</span>
                <span>&lt;<span>time</span>&gt;</span>published: {{ post.published_date }}<span>&lt;/<span>time</span>&gt;</span>
                <span>&lt;<span>h2</span>&gt;</span><span>&lt;<span>a</span> <span>href</span>=<span>""</span>&gt;</span>{{ post.title }}<span>&lt;/<span>a</span>&gt;</span><span>&lt;/<span>h2</span>&gt;</span>
                <span>&lt;<span>p</span>&gt;</span>{{ post.text|linebreaksbr }}<span>&lt;/<span>p</span>&gt;</span>
            <span>&lt;/<span>article</span>&gt;</span>
        {% endfor %}
        </code></pre>
    <p class="calibre6">
     Everything you put between
     <code class="calibre11">
      {% for %}
     </code>
     and
     <code class="calibre11">
      {% endfor %}
     </code>
     will be repeated for each object in the list. Refresh your page:
    </p>
    <p class="calibre6">
     <img alt="Figure 13.3" class="calibre8" src="content/step31.png"/>
    </p>
    <p class="calibre6">
     Have you noticed that we used a slightly different notation this time
          (
     <code class="calibre11">
      {{ post.title }}
     </code>
     or
     <code class="calibre11">
      {{ post.text }}
     </code>
     )? We are accessing data in each of the fields defined in our
     <code class="calibre11">
      Post
     </code>
     model. Also, the
     <code class="calibre11">
      |linebreaksbr
     </code>
     is piping the posts' text through a filter to convert line-breaks into
          paragraphs.
    </p>
    <h2 class="calibre7" id="one-more-thing">
     One more thing
    </h2>
    <p class="calibre6">
     It'd be good to see if your website will still be working on the
          public Internet, right? Let's try deploying to PythonAnywhere again.
          Here's a recap of the steps…
    </p>
    <ul class="calibre9">
     <li class="calibre3">
      First, push your code to GitHub
     </li>
    </ul>
    <p class="calibre6">
    </p>
    <p class="calibre6">
     command-line
    </p>
    <p class="calibre6">
    </p>
    <pre class="calibre13"><code class="calibre11">$ git status
        [...]
        $ git add .
        $ git status
        [...]
        $ git commit -m "Modified templates to display posts from database."
        [...]
        $ git push
        </code></pre>
    <ul class="calibre9">
     <li class="calibre3">
      Then, log back in to
      <a href="https://www.pythonanywhere.com/consoles/" target="_blank">
       PythonAnywhere
      </a>
      and go to your
      <strong class="calibre10">
       Bash console
      </strong>
      (or start a new one), and run:
     </li>
    </ul>
    <p class="calibre6">
    </p>
    <p class="calibre6">
     PythonAnywhere command-line
    </p>
    <p class="calibre6">
    </p>
    <pre class="calibre13"><code class="calibre11">$ cd &lt;your-pythonanywhere-domain&gt;.pythonanywhere.com
        $ git pull
        [...]
        </code></pre>
    <p class="calibre6">
     (Remember to substitute
     <code class="calibre11">
      &lt;your-pythonanywhere-domain&gt;
     </code>
     with your actual PythonAnywhere subdomain, without the
          angle-brackets.)
    </p>
    <ul class="calibre9">
     <li class="calibre3">
      Finally, hop on over to the
      <a href="https://www.pythonanywhere.com/web_app_setup/" target="_blank">
       "Web" page
      </a>
      and hit
      <strong class="calibre10">
       Reload
      </strong>
      on your web app. (To reach other PythonAnywhere pages from the
            console, use the menu button in the upper right corner.) Your update
            should be live on
      <a href="https://subdomain.pythonanywhere.com" target="_blank">
       https://subdomain.pythonanywhere.com
      </a>
      -- check it out in the browser! If the blog posts on your
            PythonAnywhere site don't match the posts appearing on the blog
            hosted on your local server, that's OK. The databases on your local
            computer and Python Anywhere don't sync with the rest of your files.
     </li>
    </ul>
    <p class="calibre6">
     Congrats! Now go ahead and try adding a new post in your Django admin
          (remember to add published_date!) Make sure you are in the Django
          admin for your pythonanywhere site,
     <a href="https://subdomain.pythonanywhere.com/admin" target="_blank">
      https://subdomain.pythonanywhere.com/admin
     </a>
     . Then refresh your page to see if the post appears there.
    </p>
    <p class="calibre6">
     Works like a charm? We're proud! Step away from your computer for a
          bit – you have earned a break. :)
    </p>
    <p class="calibre6">
     <img alt="Figure 13.4" class="calibre8" src="content/donut.png"/>
    </p>
   </div>
  </main>
  <footer class="book-footer">
   <p>
    Generated from the original EPUB. Content © respective authors under CC
        BY-SA 4.0.
   </p>
  </footer>
  <script>
   document.addEventListener('DOMContentLoaded', function () {
  document.querySelectorAll('.nav-toggle').forEach(function (toggle) {
    var targetId = toggle.getAttribute('data-target') || toggle.getAttribute('aria-controls');
    var drawer = document.getElementById(targetId);
    if (!drawer) {
      return;
    }
    var closeDrawer = function () {
      drawer.classList.remove('open');
      drawer.setAttribute('aria-hidden', 'true');
      toggle.setAttribute('aria-expanded', 'false');
      document.body.classList.remove('drawer-open');
    };

    toggle.addEventListener('click', function () {
      var willOpen = !drawer.classList.contains('open');
      if (willOpen) {
        drawer.classList.add('open');
        drawer.setAttribute('aria-hidden', 'false');
        toggle.setAttribute('aria-expanded', 'true');
        document.body.classList.add('drawer-open');
      } else {
        closeDrawer();
      }
    });

    drawer.querySelectorAll('a').forEach(function (link) {
      link.addEventListener('click', closeDrawer);
    });

    document.addEventListener('click', function (event) {
      if (!drawer.contains(event.target) && event.target !== toggle && !toggle.contains(event.target)) {
        closeDrawer();
      }
    });

    drawer.addEventListener('keydown', function (event) {
      if (event.key === 'Escape') {
        closeDrawer();
        toggle.focus();
      }
    });
  });
});
  </script>
 </body>
</html>
